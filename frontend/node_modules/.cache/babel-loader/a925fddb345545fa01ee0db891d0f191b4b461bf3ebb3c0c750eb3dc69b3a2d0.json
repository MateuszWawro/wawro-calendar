{"ast":null,"code":"var _jsxFileName = \"/Users/mateusz/Desktop/wawr-calendar/frontend/src/components/CalendarEnhanced.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// frontend/src/components/CalendarEnhanced.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { ChevronLeft, ChevronRight, Plus, X, Edit2, Filter, Download, Upload, Link as LinkIcon, Eye, EyeOff, Search, Calendar as CalIcon } from 'lucide-react';\nimport './CalendarEnhanced.css'; // Import zewnętrznego pliku CSS\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CalendarEnhanced({\n  apiUrl,\n  members\n}) {\n  _s();\n  var _members$;\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [events, setEvents] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [showFilterModal, setShowFilterModal] = useState(false);\n  const [showIntegrationsModal, setShowIntegrationsModal] = useState(false);\n  const [editingEvent, setEditingEvent] = useState(null);\n\n  // Filtry\n  const [filters, setFilters] = useState({\n    members: members.map(m => m.id),\n    searchTerm: ''\n  });\n  const [compactMode, setCompactMode] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    eventDate: '',\n    eventTime: '',\n    userId: ((_members$ = members[0]) === null || _members$ === void 0 ? void 0 : _members$.id) || null\n  });\n  useEffect(() => {\n    fetchEvents();\n  }, [currentDate]);\n\n  // Funkcja pomocnicza do pobierania tokena\n  const getAuthHeader = () => {\n    const token = localStorage.getItem('token');\n    return token ? {\n      Authorization: `Bearer ${token}`\n    } : {};\n  };\n  const fetchEvents = async () => {\n    try {\n      const month = (currentDate.getMonth() + 1).toString().padStart(2, '0');\n      const year = currentDate.getFullYear();\n      const response = await axios.get(`${apiUrl}/events`, {\n        params: {\n          month,\n          year\n        },\n        headers: getAuthHeader()\n      });\n      setEvents(response.data);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    }\n  };\n\n  // Filtrowane wydarzenia\n  const filteredEvents = events.filter(event => {\n    if (!filters.members.includes(event.user_id)) {\n      return false;\n    }\n    if (filters.searchTerm) {\n      const searchLower = filters.searchTerm.toLowerCase();\n      return event.title.toLowerCase().includes(searchLower) || event.description && event.description.toLowerCase().includes(searchLower);\n    }\n    return true;\n  });\n  const toggleMemberFilter = memberId => {\n    setFilters(prev => ({\n      ...prev,\n      members: prev.members.includes(memberId) ? prev.members.filter(id => id !== memberId) : [...prev.members, memberId]\n    }));\n  };\n  const selectAllMembers = () => {\n    setFilters(prev => ({\n      ...prev,\n      members: members.map(m => m.id)\n    }));\n  };\n  const deselectAllMembers = () => {\n    setFilters(prev => ({\n      ...prev,\n      members: []\n    }));\n  };\n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const daysInMonth = lastDay.getDate();\n    const startingDayOfWeek = firstDay.getDay();\n    return {\n      daysInMonth,\n      startingDayOfWeek,\n      year,\n      month\n    };\n  };\n  const handleAddEvent = day => {\n    var _members$2;\n    const selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day).toISOString().split('T')[0];\n    setFormData({\n      title: '',\n      description: '',\n      eventDate: selectedDate,\n      eventTime: '',\n      userId: ((_members$2 = members[0]) === null || _members$2 === void 0 ? void 0 : _members$2.id) || null\n    });\n    setEditingEvent(null);\n    setShowModal(true);\n  };\n  const handleEditEvent = event => {\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n    const createdBy = event.created_by || event.user_id;\n    const canEdit = createdBy === currentUser.id || currentUser.role === 'admin';\n    if (!canEdit) {\n      alert('Nie masz uprawnień do edycji tego wydarzenia.');\n      return;\n    }\n    setFormData({\n      title: event.title,\n      description: event.description || '',\n      eventDate: event.event_date,\n      eventTime: event.event_time || '',\n      userId: event.user_id\n    });\n    setEditingEvent(event);\n    setShowModal(true);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      var _members$3;\n      if (editingEvent) {\n        await axios.put(`${apiUrl}/events/${editingEvent.id}`, formData, {\n          headers: getAuthHeader()\n        });\n      } else {\n        await axios.post(`${apiUrl}/events`, formData, {\n          headers: getAuthHeader()\n        });\n      }\n      setShowModal(false);\n      fetchEvents();\n      setFormData({\n        title: '',\n        description: '',\n        eventDate: '',\n        eventTime: '',\n        userId: ((_members$3 = members[0]) === null || _members$3 === void 0 ? void 0 : _members$3.id) || null\n      });\n    } catch (error) {\n      console.error('Error saving event:', error);\n      alert('Błąd podczas zapisywania wydarzenia');\n    }\n  };\n  const handleDeleteEvent = async eventId => {\n    if (window.confirm('Czy na pewno chcesz usunąć to wydarzenie?')) {\n      try {\n        await axios.delete(`${apiUrl}/events/${eventId}`, {\n          headers: getAuthHeader()\n        });\n        fetchEvents();\n      } catch (error) {\n        var _error$response;\n        console.error('Error deleting event:', error);\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 403) {\n          alert('Nie masz uprawnień do usunięcia tego wydarzenia.');\n        } else {\n          alert('Błąd podczas usuwania wydarzenia');\n        }\n      }\n    }\n  };\n  const renderCalendar = () => {\n    const {\n      daysInMonth,\n      startingDayOfWeek,\n      year,\n      month\n    } = getDaysInMonth();\n    const days = [];\n    const monthNames = ['Styczeń', 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień'];\n    const dayNames = ['Nd', 'Pn', 'Wt', 'Śr', 'Czw', 'Pt', 'Sb'];\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-day empty\"\n      }, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this));\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n      const dayEvents = filteredEvents.filter(e => e.event_date === dateStr);\n      const isToday = day === new Date().getDate() && month === new Date().getMonth() && year === new Date().getFullYear();\n      days.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `calendar-day ${isToday ? 'today' : ''} ${compactMode ? 'compact' : ''}`,\n        onClick: () => handleAddEvent(day),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-number\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-events\",\n          children: [dayEvents.slice(0, compactMode ? 2 : 5).map(event => {\n            const member = members.find(m => m.id === event.user_id);\n            const createdBy = event.created_by || event.user_id;\n            const canEdit = createdBy === currentUser.id || currentUser.role === 'admin';\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-item\",\n              style: {\n                borderLeftColor: (member === null || member === void 0 ? void 0 : member.color) || '#3b82f6'\n              },\n              onClick: e => {\n                e.stopPropagation();\n                handleEditEvent(event);\n              },\n              title: `${event.title}${event.description ? `\\n${event.description}` : ''}`,\n              children: [event.event_time && !compactMode && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"event-time\",\n                children: event.event_time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"event-title\",\n                children: event.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), canEdit && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"event-delete\",\n                onClick: e => {\n                  e.stopPropagation();\n                  handleDeleteEvent(event.id);\n                },\n                title: \"Usu\\u0144 wydarzenie\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this)]\n            }, event.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this);\n          }), dayEvents.length > (compactMode ? 2 : 5) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"more-events\",\n            children: [\"+\", dayEvents.length - (compactMode ? 2 : 5), \" wi\\u0119cej\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, day, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-toolbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFilterModal(true),\n            className: `btn-filter ${filters.members.length < members.length ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(Filter, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), \"Filtry\", filters.members.length < members.length && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"filter-count\",\n              children: [filters.members.length, \"/\", members.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 18,\n              className: \"search-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Szukaj wydarze\\u0144...\",\n              value: filters.searchTerm,\n              onChange: e => setFilters({\n                ...filters,\n                searchTerm: e.target.value\n              }),\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCompactMode(!compactMode),\n            className: \"btn-toolbar\",\n            title: compactMode ? \"Widok pełny\" : \"Widok kompaktowy\",\n            children: compactMode ? /*#__PURE__*/_jsxDEV(Eye, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 30\n            }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowIntegrationsModal(true),\n            className: \"btn-toolbar\",\n            title: \"Integracje kalendarzy\",\n            children: /*#__PURE__*/_jsxDEV(LinkIcon, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1)),\n          children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [monthNames[month], \" \", year]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1)),\n          children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-weekdays\",\n        children: dayNames.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"weekday\",\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-grid\",\n        children: days\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-legend\",\n        children: members.filter(m => filters.members.includes(m.id)).map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-color\",\n            style: {\n              backgroundColor: member.color\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: member.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, member.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [renderCalendar(), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: editingEvent ? 'Edytuj wydarzenie' : 'Nowe wydarzenie'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowModal(false),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"modal-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Tytu\\u0142 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.title,\n              onChange: e => setFormData({\n                ...formData,\n                title: e.target.value\n              }),\n              required: true,\n              placeholder: \"Wizyta u lekarza\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Opis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => setFormData({\n                ...formData,\n                description: e.target.value\n              }),\n              placeholder: \"Dodatkowe informacje...\",\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Data *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.eventDate,\n                onChange: e => setFormData({\n                  ...formData,\n                  eventDate: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Godzina\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                value: formData.eventTime,\n                onChange: e => setFormData({\n                  ...formData,\n                  eventTime: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Dla kogo *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.userId,\n              onChange: e => setFormData({\n                ...formData,\n                userId: parseInt(e.target.value)\n              }),\n              required: true,\n              children: members.map(member => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: member.id,\n                children: member.name\n              }, member.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowModal(false),\n              className: \"btn-secondary\",\n              children: \"Anuluj\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary\",\n              children: editingEvent ? 'Zapisz zmiany' : 'Dodaj wydarzenie'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), showFilterModal && /*#__PURE__*/_jsxDEV(FilterModal, {\n      filters: filters,\n      setFilters: setFilters,\n      members: members,\n      onClose: () => setShowFilterModal(false),\n      toggleMemberFilter: toggleMemberFilter,\n      selectAllMembers: selectAllMembers,\n      deselectAllMembers: deselectAllMembers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 9\n    }, this), showIntegrationsModal && /*#__PURE__*/_jsxDEV(IntegrationsModal, {\n      apiUrl: apiUrl,\n      onClose: () => setShowIntegrationsModal(false),\n      getAuthHeader: getAuthHeader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 5\n  }, this);\n}\n\n// Komponent Modal Filtrów\n_s(CalendarEnhanced, \"w34BFYooPgKexl9LY7yQOkcyn1g=\");\n_c = CalendarEnhanced;\nfunction FilterModal({\n  filters,\n  setFilters,\n  members,\n  onClose,\n  toggleMemberFilter,\n  selectAllMembers,\n  deselectAllMembers\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Filtruj wydarzenia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Cz\\u0142onkowie rodziny\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: selectAllMembers,\n                className: \"btn-link\",\n                children: \"Zaznacz wszystkich\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"|\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: deselectAllMembers,\n                className: \"btn-link\",\n                children: \"Odznacz wszystkich\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"members-filter\",\n            children: members.map(member => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"member-checkbox\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: filters.members.includes(member.id),\n                onChange: () => toggleMemberFilter(member.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"member-color\",\n                style: {\n                  backgroundColor: member.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: member.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this)]\n            }, member.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"btn-primary\",\n          children: \"Zastosuj filtry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 466,\n    columnNumber: 5\n  }, this);\n}\n\n// Komponent Modal Integracji\n_c2 = FilterModal;\nfunction IntegrationsModal({\n  apiUrl,\n  onClose,\n  getAuthHeader\n}) {\n  _s2();\n  const [feedUrl, setFeedUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [googleConnected, setGoogleConnected] = useState(false);\n  const [importStatus, setImportStatus] = useState(null);\n\n  // Sprawdź status połączenia przy otwarciu\n  useEffect(() => {\n    checkConnectionStatus();\n  }, []);\n  const checkConnectionStatus = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/calendar/integrations/status`, {\n        headers: getAuthHeader()\n      });\n      setGoogleConnected(response.data.google.connected);\n    } catch (error) {\n      console.error('Error checking status:', error);\n    }\n  };\n  const handleGoogleAuth = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/calendar/google/auth`, {\n        headers: getAuthHeader()\n      });\n      // Otwórz w nowym oknie\n      const authWindow = window.open(response.data.authUrl, '_blank', 'width=600,height=700');\n\n      // Nasłuchuj na zamknięcie okna\n      const checkWindow = setInterval(() => {\n        if (authWindow && authWindow.closed) {\n          clearInterval(checkWindow);\n          checkConnectionStatus(); // Odśwież status\n          alert('Sprawdź czy autoryzacja przebiegła pomyślnie. Jeśli tak, możesz teraz importować wydarzenia!');\n        }\n      }, 1000);\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas łączenia z Google Calendar');\n    }\n  };\n  const handleGoogleImport = async () => {\n    if (!googleConnected) {\n      alert('Najpierw połącz się z Google Calendar!');\n      return;\n    }\n    setLoading(true);\n    setImportStatus('Importowanie...');\n    try {\n      const response = await axios.post(`${apiUrl}/calendar/google/import`, {}, {\n        headers: getAuthHeader()\n      });\n      setImportStatus(`✅ Zaimportowano ${response.data.imported} wydarzeń (pominięto ${response.data.skipped} duplikatów)`);\n\n      // Odśwież kalendarz po 2 sekundach\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error importing:', error);\n      setImportStatus(`❌ Błąd: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Nieznany błąd'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGoogleDisconnect = async () => {\n    if (!window.confirm('Czy na pewno chcesz rozłączyć Google Calendar?')) {\n      return;\n    }\n    try {\n      await axios.delete(`${apiUrl}/calendar/google/disconnect`, {\n        headers: getAuthHeader()\n      });\n      setGoogleConnected(false);\n      alert('Rozłączono z Google Calendar');\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas rozłączania');\n    }\n  };\n  const handleGenerateFeed = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post(`${apiUrl}/calendar/generate-feed-token`, {}, {\n        headers: getAuthHeader()\n      });\n      setFeedUrl(response.data.feedUrl);\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas generowania linku');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text);\n    alert('Skopiowano do schowka!');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content modal-large\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Integracje kalendarzy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"integrations-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"integration-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-header\",\n            children: [/*#__PURE__*/_jsxDEV(CalIcon, {\n              size: 24,\n              style: {\n                color: '#4285F4'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Google Calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Synchronizuj wydarzenia z Google Calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 17\n              }, this), googleConnected && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-badge connected\",\n                children: \"\\u2713 Po\\u0142\\u0105czono\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-actions\",\n            children: !googleConnected ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGoogleAuth,\n              className: \"btn-primary\",\n              children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this), \"Po\\u0142\\u0105cz z Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleGoogleImport,\n                className: \"btn-primary\",\n                disabled: loading,\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this), loading ? 'Importowanie...' : 'Importuj wydarzenia']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleGoogleDisconnect,\n                className: \"btn-secondary\",\n                children: \"Roz\\u0142\\u0105cz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this), importStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `import-status ${importStatus.includes('✅') ? 'success' : 'error'}`,\n            children: importStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this), googleConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"help-text\",\n            children: \"\\uD83D\\uDCA1 Import pobierze wydarzenia z ostatnich 30 dni i kolejnych 90 dni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"integration-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-header\",\n            children: [/*#__PURE__*/_jsxDEV(CalIcon, {\n              size: 24,\n              style: {\n                color: '#000'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"iCloud / Inne kalendarze\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Subskrybuj kalendarz w dowolnej aplikacji\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), !feedUrl ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateFeed,\n            className: \"btn-primary\",\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 17\n            }, this), loading ? 'Generowanie...' : 'Wygeneruj link']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed-url-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: feedUrl,\n              readOnly: true,\n              className: \"feed-url-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => copyToClipboard(feedUrl),\n              className: \"btn-copy\",\n              children: \"Kopiuj\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this), feedUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed-instructions\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Jak doda\\u0107 do kalendarza:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"iOS/Mac:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 23\n                }, this), \" Ustawienia \\u2192 Konta \\u2192 Dodaj konto \\u2192 Inne \\u2192 Subskrybuj kalendarz\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Google:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 23\n                }, this), \" Inne kalendarze \\u2192 Z adresu URL\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Outlook:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 23\n                }, this), \" Kalendarz \\u2192 Dodaj kalendarz \\u2192 Z Internetu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 629,\n    columnNumber: 5\n  }, this);\n}\n_s2(IntegrationsModal, \"gmP6mFiHoa5ze1mupXLRNc8T9fo=\");\n_c3 = IntegrationsModal;\nexport default CalendarEnhanced;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CalendarEnhanced\");\n$RefreshReg$(_c2, \"FilterModal\");\n$RefreshReg$(_c3, \"IntegrationsModal\");","map":{"version":3,"names":["React","useState","useEffect","axios","ChevronLeft","ChevronRight","Plus","X","Edit2","Filter","Download","Upload","Link","LinkIcon","Eye","EyeOff","Search","Calendar","CalIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","CalendarEnhanced","apiUrl","members","_s","_members$","currentDate","setCurrentDate","Date","events","setEvents","showModal","setShowModal","showFilterModal","setShowFilterModal","showIntegrationsModal","setShowIntegrationsModal","editingEvent","setEditingEvent","filters","setFilters","map","m","id","searchTerm","compactMode","setCompactMode","formData","setFormData","title","description","eventDate","eventTime","userId","fetchEvents","getAuthHeader","token","localStorage","getItem","Authorization","month","getMonth","toString","padStart","year","getFullYear","response","get","params","headers","data","error","console","filteredEvents","filter","event","includes","user_id","searchLower","toLowerCase","toggleMemberFilter","memberId","prev","selectAllMembers","deselectAllMembers","getDaysInMonth","firstDay","lastDay","daysInMonth","getDate","startingDayOfWeek","getDay","handleAddEvent","day","_members$2","selectedDate","toISOString","split","handleEditEvent","currentUser","JSON","parse","createdBy","created_by","canEdit","role","alert","event_date","event_time","handleSubmit","e","preventDefault","_members$3","put","post","handleDeleteEvent","eventId","window","confirm","delete","_error$response","status","renderCalendar","days","monthNames","dayNames","i","push","className","fileName","_jsxFileName","lineNumber","columnNumber","dateStr","String","dayEvents","isToday","onClick","children","slice","member","find","style","borderLeftColor","color","stopPropagation","size","length","type","placeholder","value","onChange","target","backgroundColor","name","onSubmit","required","rows","parseInt","FilterModal","onClose","IntegrationsModal","_c","checked","_c2","_s2","feedUrl","setFeedUrl","loading","setLoading","googleConnected","setGoogleConnected","importStatus","setImportStatus","checkConnectionStatus","google","connected","handleGoogleAuth","authWindow","open","authUrl","checkWindow","setInterval","closed","clearInterval","handleGoogleImport","imported","skipped","setTimeout","location","reload","_error$response2","_error$response2$data","handleGoogleDisconnect","handleGenerateFeed","copyToClipboard","text","navigator","clipboard","writeText","disabled","readOnly","_c3","$RefreshReg$"],"sources":["/Users/mateusz/Desktop/wawr-calendar/frontend/src/components/CalendarEnhanced.js"],"sourcesContent":["// frontend/src/components/CalendarEnhanced.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { \n  ChevronLeft, ChevronRight, Plus, X, Edit2, \n  Filter, Download, Upload, Link as LinkIcon,\n  Eye, EyeOff, Search, Calendar as CalIcon\n} from 'lucide-react';\nimport './CalendarEnhanced.css'; // Import zewnętrznego pliku CSS\n\nfunction CalendarEnhanced({ apiUrl, members }) {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [events, setEvents] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [showFilterModal, setShowFilterModal] = useState(false);\n  const [showIntegrationsModal, setShowIntegrationsModal] = useState(false);\n  const [editingEvent, setEditingEvent] = useState(null);\n  \n  // Filtry\n  const [filters, setFilters] = useState({\n    members: members.map(m => m.id),\n    searchTerm: ''\n  });\n\n  const [compactMode, setCompactMode] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    eventDate: '',\n    eventTime: '',\n    userId: members[0]?.id || null\n  });\n\n  useEffect(() => {\n    fetchEvents();\n  }, [currentDate]);\n\n  // Funkcja pomocnicza do pobierania tokena\n  const getAuthHeader = () => {\n    const token = localStorage.getItem('token');\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  };\n\n  const fetchEvents = async () => {\n    try {\n      const month = (currentDate.getMonth() + 1).toString().padStart(2, '0');\n      const year = currentDate.getFullYear();\n      const response = await axios.get(`${apiUrl}/events`, {\n        params: { month, year },\n        headers: getAuthHeader()\n      });\n      setEvents(response.data);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    }\n  };\n\n  // Filtrowane wydarzenia\n  const filteredEvents = events.filter(event => {\n    if (!filters.members.includes(event.user_id)) {\n      return false;\n    }\n\n    if (filters.searchTerm) {\n      const searchLower = filters.searchTerm.toLowerCase();\n      return (\n        event.title.toLowerCase().includes(searchLower) ||\n        (event.description && event.description.toLowerCase().includes(searchLower))\n      );\n    }\n\n    return true;\n  });\n\n  const toggleMemberFilter = (memberId) => {\n    setFilters(prev => ({\n      ...prev,\n      members: prev.members.includes(memberId)\n        ? prev.members.filter(id => id !== memberId)\n        : [...prev.members, memberId]\n    }));\n  };\n\n  const selectAllMembers = () => {\n    setFilters(prev => ({\n      ...prev,\n      members: members.map(m => m.id)\n    }));\n  };\n\n  const deselectAllMembers = () => {\n    setFilters(prev => ({\n      ...prev,\n      members: []\n    }));\n  };\n\n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const daysInMonth = lastDay.getDate();\n    const startingDayOfWeek = firstDay.getDay();\n    \n    return { daysInMonth, startingDayOfWeek, year, month };\n  };\n\n  const handleAddEvent = (day) => {\n    const selectedDate = new Date(\n      currentDate.getFullYear(),\n      currentDate.getMonth(),\n      day\n    ).toISOString().split('T')[0];\n    \n    setFormData({\n      title: '',\n      description: '',\n      eventDate: selectedDate,\n      eventTime: '',\n      userId: members[0]?.id || null\n    });\n    setEditingEvent(null);\n    setShowModal(true);\n  };\n\n  const handleEditEvent = (event) => {\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n    const createdBy = event.created_by || event.user_id;\n    const canEdit = createdBy === currentUser.id || currentUser.role === 'admin';\n    \n    if (!canEdit) {\n      alert('Nie masz uprawnień do edycji tego wydarzenia.');\n      return;\n    }\n    \n    setFormData({\n      title: event.title,\n      description: event.description || '',\n      eventDate: event.event_date,\n      eventTime: event.event_time || '',\n      userId: event.user_id\n    });\n    setEditingEvent(event);\n    setShowModal(true);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      if (editingEvent) {\n        await axios.put(`${apiUrl}/events/${editingEvent.id}`, formData, {\n          headers: getAuthHeader()\n        });\n      } else {\n        await axios.post(`${apiUrl}/events`, formData, {\n          headers: getAuthHeader()\n        });\n      }\n      \n      setShowModal(false);\n      fetchEvents();\n      setFormData({\n        title: '',\n        description: '',\n        eventDate: '',\n        eventTime: '',\n        userId: members[0]?.id || null\n      });\n    } catch (error) {\n      console.error('Error saving event:', error);\n      alert('Błąd podczas zapisywania wydarzenia');\n    }\n  };\n\n  const handleDeleteEvent = async (eventId) => {\n    if (window.confirm('Czy na pewno chcesz usunąć to wydarzenie?')) {\n      try {\n        await axios.delete(`${apiUrl}/events/${eventId}`, {\n          headers: getAuthHeader()\n        });\n        fetchEvents();\n      } catch (error) {\n        console.error('Error deleting event:', error);\n        if (error.response?.status === 403) {\n          alert('Nie masz uprawnień do usunięcia tego wydarzenia.');\n        } else {\n          alert('Błąd podczas usuwania wydarzenia');\n        }\n      }\n    }\n  };\n\n  const renderCalendar = () => {\n    const { daysInMonth, startingDayOfWeek, year, month } = getDaysInMonth();\n    const days = [];\n    const monthNames = [\n      'Styczeń', 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec',\n      'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień'\n    ];\n    const dayNames = ['Nd', 'Pn', 'Wt', 'Śr', 'Czw', 'Pt', 'Sb'];\n    const currentUser = JSON.parse(localStorage.getItem('user'));\n\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(<div key={`empty-${i}`} className=\"calendar-day empty\"></div>);\n    }\n\n    for (let day = 1; day <= daysInMonth; day++) {\n      const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n      const dayEvents = filteredEvents.filter(e => e.event_date === dateStr);\n      const isToday = \n        day === new Date().getDate() &&\n        month === new Date().getMonth() &&\n        year === new Date().getFullYear();\n\n      days.push(\n        <div\n          key={day}\n          className={`calendar-day ${isToday ? 'today' : ''} ${compactMode ? 'compact' : ''}`}\n          onClick={() => handleAddEvent(day)}\n        >\n          <div className=\"day-number\">{day}</div>\n          <div className=\"day-events\">\n            {dayEvents.slice(0, compactMode ? 2 : 5).map(event => {\n              const member = members.find(m => m.id === event.user_id);\n              const createdBy = event.created_by || event.user_id;\n              const canEdit = createdBy === currentUser.id || currentUser.role === 'admin';\n              \n              return (\n                <div\n                  key={event.id}\n                  className=\"event-item\"\n                  style={{ borderLeftColor: member?.color || '#3b82f6' }}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleEditEvent(event);\n                  }}\n                  title={`${event.title}${event.description ? `\\n${event.description}` : ''}`}\n                >\n                  {event.event_time && !compactMode && (\n                    <span className=\"event-time\">{event.event_time}</span>\n                  )}\n                  <span className=\"event-title\">{event.title}</span>\n                  \n                  {canEdit && (\n                    <button\n                      className=\"event-delete\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDeleteEvent(event.id);\n                      }}\n                      title=\"Usuń wydarzenie\"\n                    >\n                      <X size={12} />\n                    </button>\n                  )}\n                </div>\n              );\n            })}\n            {dayEvents.length > (compactMode ? 2 : 5) && (\n              <div className=\"more-events\">\n                +{dayEvents.length - (compactMode ? 2 : 5)} więcej\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"calendar-container\">\n        {/* Toolbar */}\n        <div className=\"calendar-toolbar\">\n          <div className=\"toolbar-left\">\n            <button \n              onClick={() => setShowFilterModal(true)} \n              className={`btn-filter ${filters.members.length < members.length ? 'active' : ''}`}\n            >\n              <Filter size={18} />\n              Filtry\n              {filters.members.length < members.length && (\n                <span className=\"filter-count\">{filters.members.length}/{members.length}</span>\n              )}\n            </button>\n            \n            <div className=\"search-wrapper\">\n              <Search size={18} className=\"search-icon\" />\n              <input\n                type=\"text\"\n                placeholder=\"Szukaj wydarzeń...\"\n                value={filters.searchTerm}\n                onChange={(e) => setFilters({ ...filters, searchTerm: e.target.value })}\n                className=\"search-input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"toolbar-right\">\n            <button \n              onClick={() => setCompactMode(!compactMode)} \n              className=\"btn-toolbar\" \n              title={compactMode ? \"Widok pełny\" : \"Widok kompaktowy\"}\n            >\n              {compactMode ? <Eye size={18} /> : <EyeOff size={18} />}\n            </button>\n            \n            <button \n              onClick={() => setShowIntegrationsModal(true)} \n              className=\"btn-toolbar\" \n              title=\"Integracje kalendarzy\"\n            >\n              <LinkIcon size={18} />\n            </button>\n          </div>\n        </div>\n\n        {/* Header kalendarza */}\n        <div className=\"calendar-header\">\n          <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1))}>\n            <ChevronLeft size={24} />\n          </button>\n          <h2>{monthNames[month]} {year}</h2>\n          <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1))}>\n            <ChevronRight size={24} />\n          </button>\n        </div>\n\n        <div className=\"calendar-weekdays\">\n          {dayNames.map(day => (\n            <div key={day} className=\"weekday\">{day}</div>\n          ))}\n        </div>\n\n        <div className=\"calendar-grid\">\n          {days}\n        </div>\n\n        {/* Legenda */}\n        <div className=\"calendar-legend\">\n          {members.filter(m => filters.members.includes(m.id)).map(member => (\n            <div key={member.id} className=\"legend-item\">\n              <div className=\"legend-color\" style={{ backgroundColor: member.color }}></div>\n              <span>{member.name}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      {renderCalendar()}\n\n      {/* Modal dodawania/edycji */}\n      {showModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>{editingEvent ? 'Edytuj wydarzenie' : 'Nowe wydarzenie'}</h3>\n              <button onClick={() => setShowModal(false)}>\n                <X size={24} />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"modal-form\">\n              <div className=\"form-group\">\n                <label>Tytuł *</label>\n                <input\n                  type=\"text\"\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  required\n                  placeholder=\"Wizyta u lekarza\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Opis</label>\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Dodatkowe informacje...\"\n                  rows=\"3\"\n                />\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Data *</label>\n                  <input\n                    type=\"date\"\n                    value={formData.eventDate}\n                    onChange={(e) => setFormData({ ...formData, eventDate: e.target.value })}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Godzina</label>\n                  <input\n                    type=\"time\"\n                    value={formData.eventTime}\n                    onChange={(e) => setFormData({ ...formData, eventTime: e.target.value })}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Dla kogo *</label>\n                <select\n                  value={formData.userId}\n                  onChange={(e) => setFormData({ ...formData, userId: parseInt(e.target.value) })}\n                  required\n                >\n                  {members.map(member => (\n                    <option key={member.id} value={member.id}>\n                      {member.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"modal-actions\">\n                <button type=\"button\" onClick={() => setShowModal(false)} className=\"btn-secondary\">\n                  Anuluj\n                </button>\n                <button type=\"submit\" className=\"btn-primary\">\n                  {editingEvent ? 'Zapisz zmiany' : 'Dodaj wydarzenie'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Modal filtrów */}\n      {showFilterModal && (\n        <FilterModal\n          filters={filters}\n          setFilters={setFilters}\n          members={members}\n          onClose={() => setShowFilterModal(false)}\n          toggleMemberFilter={toggleMemberFilter}\n          selectAllMembers={selectAllMembers}\n          deselectAllMembers={deselectAllMembers}\n        />\n      )}\n\n      {/* Modal integracji */}\n      {showIntegrationsModal && (\n        <IntegrationsModal\n          apiUrl={apiUrl}\n          onClose={() => setShowIntegrationsModal(false)}\n          getAuthHeader={getAuthHeader}\n        />\n      )}\n    </div>\n  );\n}\n\n// Komponent Modal Filtrów\nfunction FilterModal({ filters, setFilters, members, onClose, toggleMemberFilter, selectAllMembers, deselectAllMembers }) {\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h3>Filtruj wydarzenia</h3>\n          <button onClick={onClose}>\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"filter-content\">\n          <div className=\"filter-section\">\n            <div className=\"filter-section-header\">\n              <h4>Członkowie rodziny</h4>\n              <div className=\"filter-actions\">\n                <button onClick={selectAllMembers} className=\"btn-link\">\n                  Zaznacz wszystkich\n                </button>\n                <span>|</span>\n                <button onClick={deselectAllMembers} className=\"btn-link\">\n                  Odznacz wszystkich\n                </button>\n              </div>\n            </div>\n\n            <div className=\"members-filter\">\n              {members.map(member => (\n                <label key={member.id} className=\"member-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    checked={filters.members.includes(member.id)}\n                    onChange={() => toggleMemberFilter(member.id)}\n                  />\n                  <div \n                    className=\"member-color\" \n                    style={{ backgroundColor: member.color }}\n                  ></div>\n                  <span>{member.name}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"modal-actions\">\n          <button onClick={onClose} className=\"btn-primary\">\n            Zastosuj filtry\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Komponent Modal Integracji\nfunction IntegrationsModal({ apiUrl, onClose, getAuthHeader }) {\n  const [feedUrl, setFeedUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [googleConnected, setGoogleConnected] = useState(false);\n  const [importStatus, setImportStatus] = useState(null);\n\n  // Sprawdź status połączenia przy otwarciu\n  useEffect(() => {\n    checkConnectionStatus();\n  }, []);\n\n  const checkConnectionStatus = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/calendar/integrations/status`, {\n        headers: getAuthHeader()\n      });\n      setGoogleConnected(response.data.google.connected);\n    } catch (error) {\n      console.error('Error checking status:', error);\n    }\n  };\n\n  const handleGoogleAuth = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/calendar/google/auth`, {\n        headers: getAuthHeader()\n      });\n      // Otwórz w nowym oknie\n      const authWindow = window.open(response.data.authUrl, '_blank', 'width=600,height=700');\n      \n      // Nasłuchuj na zamknięcie okna\n      const checkWindow = setInterval(() => {\n        if (authWindow && authWindow.closed) {\n          clearInterval(checkWindow);\n          checkConnectionStatus(); // Odśwież status\n          alert('Sprawdź czy autoryzacja przebiegła pomyślnie. Jeśli tak, możesz teraz importować wydarzenia!');\n        }\n      }, 1000);\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas łączenia z Google Calendar');\n    }\n  };\n\n  const handleGoogleImport = async () => {\n    if (!googleConnected) {\n      alert('Najpierw połącz się z Google Calendar!');\n      return;\n    }\n\n    setLoading(true);\n    setImportStatus('Importowanie...');\n    \n    try {\n      const response = await axios.post(`${apiUrl}/calendar/google/import`, {}, {\n        headers: getAuthHeader()\n      });\n      setImportStatus(`✅ Zaimportowano ${response.data.imported} wydarzeń (pominięto ${response.data.skipped} duplikatów)`);\n      \n      // Odśwież kalendarz po 2 sekundach\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (error) {\n      console.error('Error importing:', error);\n      setImportStatus(`❌ Błąd: ${error.response?.data?.error || 'Nieznany błąd'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleDisconnect = async () => {\n    if (!window.confirm('Czy na pewno chcesz rozłączyć Google Calendar?')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`${apiUrl}/calendar/google/disconnect`, {\n        headers: getAuthHeader()\n      });\n      setGoogleConnected(false);\n      alert('Rozłączono z Google Calendar');\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas rozłączania');\n    }\n  };\n\n  const handleGenerateFeed = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.post(`${apiUrl}/calendar/generate-feed-token`, {}, {\n        headers: getAuthHeader()\n      });\n      setFeedUrl(response.data.feedUrl);\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Błąd podczas generowania linku');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    alert('Skopiowano do schowka!');\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content modal-large\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h3>Integracje kalendarzy</h3>\n          <button onClick={onClose}>\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"integrations-content\">\n          {/* Google Calendar */}\n          <div className=\"integration-card\">\n            <div className=\"integration-header\">\n              <CalIcon size={24} style={{ color: '#4285F4' }} />\n              <div>\n                <h4>Google Calendar</h4>\n                <p>Synchronizuj wydarzenia z Google Calendar</p>\n                {googleConnected && (\n                  <span className=\"status-badge connected\">✓ Połączono</span>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"integration-actions\">\n              {!googleConnected ? (\n                <button onClick={handleGoogleAuth} className=\"btn-primary\">\n                  <LinkIcon size={18} />\n                  Połącz z Google\n                </button>\n              ) : (\n                <>\n                  <button \n                    onClick={handleGoogleImport} \n                    className=\"btn-primary\"\n                    disabled={loading}\n                  >\n                    <Download size={18} />\n                    {loading ? 'Importowanie...' : 'Importuj wydarzenia'}\n                  </button>\n                  <button \n                    onClick={handleGoogleDisconnect} \n                    className=\"btn-secondary\"\n                  >\n                    Rozłącz\n                  </button>\n                </>\n              )}\n            </div>\n\n            {importStatus && (\n              <div className={`import-status ${importStatus.includes('✅') ? 'success' : 'error'}`}>\n                {importStatus}\n              </div>\n            )}\n\n            {googleConnected && (\n              <div className=\"help-text\">\n                💡 Import pobierze wydarzenia z ostatnich 30 dni i kolejnych 90 dni\n              </div>\n            )}\n          </div>\n\n          {/* iCloud / Universal Feed */}\n          <div className=\"integration-card\">\n            <div className=\"integration-header\">\n              <CalIcon size={24} style={{ color: '#000' }} />\n              <div>\n                <h4>iCloud / Inne kalendarze</h4>\n                <p>Subskrybuj kalendarz w dowolnej aplikacji</p>\n              </div>\n            </div>\n            \n            {!feedUrl ? (\n              <button \n                onClick={handleGenerateFeed} \n                className=\"btn-primary\"\n                disabled={loading}\n              >\n                <Download size={18} />\n                {loading ? 'Generowanie...' : 'Wygeneruj link'}\n              </button>\n            ) : (\n              <div className=\"feed-url-box\">\n                <input\n                  type=\"text\"\n                  value={feedUrl}\n                  readOnly\n                  className=\"feed-url-input\"\n                />\n                <button \n                  onClick={() => copyToClipboard(feedUrl)}\n                  className=\"btn-copy\"\n                >\n                  Kopiuj\n                </button>\n              </div>\n            )}\n\n            {feedUrl && (\n              <div className=\"feed-instructions\">\n                <h5>Jak dodać do kalendarza:</h5>\n                <ul>\n                  <li><strong>iOS/Mac:</strong> Ustawienia → Konta → Dodaj konto → Inne → Subskrybuj kalendarz</li>\n                  <li><strong>Google:</strong> Inne kalendarze → Z adresu URL</li>\n                  <li><strong>Outlook:</strong> Kalendarz → Dodaj kalendarz → Z Internetu</li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CalendarEnhanced;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}